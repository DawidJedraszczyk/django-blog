{% load i18n %}

<div class="card" style="border-radius: 15px; height: 360px; position: relative;">
    {% if user.image %}
        <img
            src="{{ user.image.url }}"
            alt="{% trans 'Profile Picture' %}"
            class="card-img-top mx-auto d-block"
            style="width: 100px; height: 100px; border-radius: 50%; margin-top: -50px; border: 3px solid white;"
        >
    {% else %}
        <div class="card-img-top mx-auto d-block"
            style="width: 100px; height: 100px; border-radius: 50%; margin-top: -50px; border: 3px solid white; z-index: -1;">
            <i class="fa fa-user-circle fa-5x text-muted"></i>
        </div>
    {% endif %}
    <div class="card-body p-4">
        <div class="d-flex">
            <div class="flex-grow-1 ms-3">
                <a href="{% url 'users:user_detail' user.slug %}"><h5 class="mb-1">{{ user.username }}</h5></a>
                <p class="mb-2 text-muted" style="overflow: hidden; height: 90px;">{{ user.bio }}</p>

                <div class="d-flex justify-content-between rounded-3 p-2 mb-2 bg-light">
                    <div class="text-center">
                        <p class="small text-muted mb-1">{% trans "Posts" %}</p>
                        <p class="mb-0">{{ user.posts.count }}</p>
                    </div>
                    <div class="text-center">
                        <p class="small text-muted mb-1">{% trans "Followers" %}</p>
                        <p class="mb-0">{{ user.followers.count }}</p>
                    </div>
                    <div class="text-center">
                        <p class="small text-muted mb-1">{% trans "Following" %}</p>
                        <p class="mb-0">{{ user.following.count }}</p>
                    </div>
                </div>

                <div class="d-flex pt-1">
                    <button
                        type="button"
                        class="btn btn-primary w-100 follow-btn"
                        data-follow-url="{% url 'users:follow_user' user.id %}"
                    >
                        <i class="bi bi-person-plus"></i> {% trans "Follow" %}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>